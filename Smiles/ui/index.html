
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">


    <title>Jumbotron Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/estilos.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Ver Navegación</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand " href="#">Aplicabilidad de un motor de búsqueda para el almacenamiento y recuperación de información moluecular utilizando representación SMILES</a>
        </div>
        <div class="navbar-collapse collapse">

        </div><!--/.navbar-collapse -->
    </div>
</div>

<!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-1">
                <label for="searchBox">Escriba la estructura en SMILES:</label>
            </div>
        </div>
        <div class="row">
            <form role="form" name="search" action="#" id="searchForm" method="get" class="">
                <div class="col-md-8 col-md-offset-1">
                    <div class="form-group">
                        <input type="text" name="searchBox" class="search form-control" id="searchBox" value=""/>
                    </div>
                </div>
                <div class="col-md-2">
                    <button id="searchBtn" type="button" class="btn btn-primary  ">
                        <span class="glyphicon glyphicon-search"></span> Buscar
                    </button>
                </div>

            </form>
        </div>
        <div class="row">
            <div class="col-md-8 col-md-offset-1">
                <ul>
                    <li><a href="#" onclick="ejemplo(1);">Ejemplo 1</a> </li>
                    <li><a href="#" onclick="ejemplo(2);">Ejemplo 2</a> </li>
                    <li><a href="#" onclick="ejemplo(3);">Ejemplo 3</a> </li>
                </ul>
            </div>
        </div>

    </div>
</div>

<div class="container"  data-bind="foreach: docs">

    <div id="resultH"></div>
    <div id="resultG"></div>

    <hr>

    <footer>
        <p>Universidad de Costa Rica - Maestría en Bioinformática y Biología de Sistmas <br />
            Minería de Datos <br />
            Eduardo Quirós<br />
            Federico Matarrita </p>
    </footer>
</div> <!-- /container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type='text/javascript' src='js/knockout.js'></script>
<script src="js/bootstrap.min.js"></script>
<script>

    function ejemplo(ej,event){
        var smiles ="";
        switch (ej){
            case 1: {
                smiles = "CCC(C)C(=O)OC1CCC=C2C1C(C(C=C2)C)CCC3CC(CC(=O)O3)O";
                break;
            }
            case 2: {
                smiles = "CC(C)C1=C(C(=C(N1CCC(CC(CC(=O)O)O)O)C2=CC=C(C=C2)F)C3=CC=CC=C3)C(=O)NC4=CC=CC=C4";
                break;
            }
            case 3: {
                smiles = "CC(C)N1C2=CC=CC=C2C(=C1C=CC(CC(CC(=O)O)O)O)C3=CC=C(C=C3)F";
                break;
            }
        }
        $("#searchBox").val(smiles);
        //event.preventDefault();
    }

    function resultGrid(){


        $.ajax({
            url:'http://localhost:8983/solr/collection1/select',
            type:'GET',
            data: "q=manu:belkin&" +
                    "fl=*,score,distance:strdist%28%22belkin%22,manu,edit%29" +
                    "&sort=strdist%28%22belkin%22,%20manu,%20edit%29%20desc" +
                    "&wt=json",
            dataType: 'json',
            success: function( json ) {
               // $("#resultH").empty();
                $("#resultH").append('' +
                        '<div class="row">' +
                        '  <div class="col-md-4">' +
                        '<strong >Smiles</strong>' +
                        '</div>' +
                        '<div class="col-md-1">' +
                        '        <strong>PubchemID</strong>' +
                        '</div>' +
                        '<div class="col-md-2">' +
                        '        <strong>Estructura</strong>' +
                        '</div>' +
                        '<div class="col-md-1">' +
                        '        <strong>Átomos</strong>' +
                        '</div>' +
                        '<div class="col-md-1">' +
                        '        <strong>Aros</strong>' +
                        '</div>' +
                        '<div class="col-md-1">' +
                        '        <strong>Distancia</strong>' +
                        '</div>' +
                        '</div>'
                );

                var row = 0;
                $.each(json.response.docs, function() {

                    var fotos ='<div class="row r'+row%2+' ">'+
                            '  <div class="col-md-4">' +
                            '<span >'+this.id+'</span>' +
                            '</div>' +
                            '<div class="col-md-1">' +
                            '        <span>'+this.id+'</span>' +
                            '</div>' +
                            '<div class="col-md-2">' +
                            '        <span>'+this.id+'</span>' +
                            '</div>' +
                            '<div class="col-md-1">' +
                            '        <span>'+this.id+'</span>' +
                            '</div>' +
                            '<div class="col-md-1">' +
                            '        <span>'+this.id+'</span>' +
                            '</div>' +
                            '<div class="col-md-1">' +
                            '        <span>'+this.distance+'</span>' +
                            '</div>' +
                            '</div>';

                    $("#resultH").append(fotos);
                    row++;
                });
            },
            error: function( ){
                $('#resultH').append("Error desplegando los resultados de búsqueda" );
            }
        });


    }

    resultGrid();
</script>
</body>
</html>
